<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta property="og:image" content="https://raw.githubusercontent.com/loveandevol/lnd/main/image/mainbg.jpg" />
  <meta property="og:title" content="Dear my summer" />
  <meta property="og:description" content="여름은 마침내 내 인생에서 박리할 수 없는 일부가 되었다" />

  <!-- example twitter cards tags for redkiwiapp.com -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="나의 여름에게" />
  <meta name="twitter:description" content="여름은 마침내 내 인생에서 박리할 수 없는 일부가 되었다" />
  <meta name="twitter:image" content="https://raw.githubusercontent.com/loveandevol/lnd/main/image/mainbg.jpg" />
  <title>DEAR MY SUMMER</title>
  <script>window._loaderStartTime = Date.now();</script>
  <script src="https://kit.fontawesome.com/751d015302.js" crossorigin="anonymous"></script>
  <style>
    @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css");
    @font-face {
      font-family: 'GabiaMaeumgyeol';
      src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2205@1.0/GabiaMaeumgyeol.woff2') format('woff2');
      font-weight: normal;
      font-style: normal;
    }

    body {
      margin: 0;
      padding: 0;
      background: #ffffff;
      overflow-x: hidden;
    }
  
    #loader {
    position: fixed;
    inset: 0;
    width: 100vw;
    height: 100vh;
    background: #F9D5D5;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: "Pretendard Variable", sans-serif;

    /* 아래 둘 중 하나는 꼭 있어야 화면을 완전히 덮음 */
    top: 0;
    left: 0;
  }

    .loading-circle-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

.loading-circle {
  position: relative;
  width: 200px;
  height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.loading-image {
  width: 200px;
  height: 200px;
  animation: spin 10s linear infinite;
  transform-origin: center;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}


.loader-text-fixed {
  position: absolute;
  font-size: 1.3rem;
  color: #444;
  font-family: 'GabiaMaeumgyeol', "Pretendard Variable", sans-serif;
  white-space: nowrap;
  text-align: center;
}

    

    .main-section {
      height: 100vh;
      width: 100vw;
      position: relative;
      overflow: hidden;
      background: #F9D5D5;
      background-image: linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.4)),url(/image/mainbg.jpg);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    }


    .observe {
  position: absolute;
  opacity: 0;
  transition: opacity 1s ease, transform 1s ease;
  will-change: opacity, transform;
}


.observe img {
  display: block;
  max-width: 100%;
  height: auto;
  
}


.box {
  padding: 20px;
  border-radius: 8px;
}

.top-left {
  top: 30px;
  left: 30px;
  z-index: 1;
}

.center {
  top: 50%;
  left: 50%;
  text-align: center;
  transform: translate(-50%, -50%);
display: flex;
  justify-content: center;
  align-items: center;
}
.center img{
    width: 85%;
    height: auto;
}

.bottom-right {
  bottom: 10px;
  right: 20px;
}

.visible {
  opacity: 1;
}
.loader-icon {
  position: absolute;
  font-size: 3rem; /* 아이콘 크기 */
  color: #444;
  z-index: 2;
}
.introduction-section {
  height: 100vh;
  width: 100vw;
  display: flex;
  flex-direction: column; /* 세로 정렬 */
  align-items: center;     /* 기본 자식들을 가로 중앙 정렬 */
  padding-top: 40px;       /* 상단 여백 */
  box-sizing: border-box;
  position: relative;
}

.intro-header {
  width: 100%;
  max-width: 1200px;
  padding: 0 1rem;
  box-sizing: border-box;
  text-align: left;        /* 왼쪽 정렬 */
  margin-bottom: 20px;
}

.img-meg {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1em;
  width: 100%;
  max-width: 1200px;
  padding: 0 1rem;
  box-sizing: border-box;
  margin-top: 20px;
}

.intro-header img{
    max-width: 600px;
    width: 80%;
    min-width: 300px;
    height: auto;
    filter: drop-shadow(0px 0px 2px #B38182);
}

/* ✅ 모바일 대응 (가로폭 600px 이하일 때) */
@media (max-width: 600px) {
  .img-meg {
    grid-template-columns: 1fr; /* 한 줄에 1개씩 */
  }
}

.img-meg img{
    width: 100%;
    height: auto;
    border-radius: 10px;
}

.observe-fade-right {
  opacity: 0;
  transform: translateX(50px);
  transition: all 0.8s ease;
  will-change: transform, opacity;
}

.observe-fade-right.visible {
  opacity: 1;
  transform: translateX(0);
}

  </style>
</head>
<body>
    <div id="loader">
  <div class="loading-circle-wrapper">
    <div class="loading-circle">
      <img src="/image/loader.png" alt="loading circle" class="loading-image">
      <i class="fa-solid fa-apple-whole loader-icon"></i>
    </div>
  </div>
</div>



  <div class="main-section">
  <div class="observe box top-left" data-pos="top-left">
    <img src="/image/willyou.png" />
  </div>
  <div class="observe box center" data-pos="center">
    <img src="/image/mainimg.png" />
  </div>
  <div class="observe box bottom-right" data-pos="bottom-right">
    <img src="/image/waywardplane.png" />
  </div>
</div>

<div class="introduction-section">
    <!-- <div class="intro-header observe-fade-right"><img src="/image/kr.png"></div> -->
    <div class="img-meg">
        <img class="observe-fade-right" src="/image/Paper175310802861.png">
        <img class="observe-fade-right" src="/image/Paper175310803275.png">
        <img class="observe-fade-right" src="/image/Paper175310803380.png">
        <img class="observe-fade-right" src="/image/Paper1753108040104.png">
    </div>
</div>






  <!-- GSAP CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

<!-- ✅ 초기 애니메이션 함수 정의 + 실행 위치 수정 -->
<script>
  function setInitialTransform(el) {
    const pos = el.dataset.pos;
    if (pos === "center") {
      el.style.transform = "translate(-50%, -50%) translateY(80px)";
    } else if (pos === "top-left") {
      el.style.transform = "translateX(-50px)";
    } else if (pos === "bottom-right") {
      el.style.transform = "translateX(50px)";
    }
    el.style.opacity = "0";
  }

  function applyInitialTransform(el) {
    const pos = el.dataset.pos;
    if (pos === "center") {
      el.style.transform = "translate(-50%, -50%) translateY(10px)";
    } else {
      el.style.transform = "translate(0, 0)";
    }
    el.style.opacity = "1";
  }

  function runInitialObserveAnimations() {
    const order = {
      "top-left": 0,
      "center": 1,
      "bottom-right": 2
    };

    const elements = document.querySelectorAll(".observe");

    elements.forEach((el) => {
      const pos = el.dataset.pos;
      setInitialTransform(el);
      el.style.display = "block"; // 이제 보이게
      el.classList.remove("visible");

      setTimeout(() => {
        requestAnimationFrame(() => {
          el.classList.add("visible");
          applyInitialTransform(el);
        });
      }, order[pos] * 300 + 100);
    });
  }

  window.addEventListener("load", () => {
    const loader = document.getElementById("loader");
    const main = document.querySelector(".main-section");
    const elements = document.querySelectorAll(".observe");

    // ✅ 로딩 중에는 observe 요소를 숨김
    elements.forEach(el => {
      el.style.display = "none";
    });

    const MIN_LOADING_TIME = 1500;
    const elapsed = Date.now() - window._loaderStartTime;
    const delay = Math.max(0, MIN_LOADING_TIME - elapsed);

    setTimeout(() => {
      loader.style.opacity = "0";
      loader.style.transition = "opacity 0.6s ease";
      setTimeout(() => {
        loader.style.display = "none";
        main.style.display = "block";

        // ✅ 애니메이션 시작
        runInitialObserveAnimations();
      }, 600); // loader fade out
    }, delay);
  });
</script>

<!-- ✅ 스크롤 애니메이션 (observe 요소용) -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const observerOptions = {
      root: null,
      rootMargin: "0px",
      threshold: 0.5
    };

    const order = {
      "top-left": 0,
      "center": 1,
      "bottom-right": 2
    };

    const reverseOrder = {
      "top-left": 2,
      "center": 1,
      "bottom-right": 0
    };

    const elements = document.querySelectorAll(".observe");

    const observer = new IntersectionObserver((entries) => {
      const appearing = [];
      const disappearing = [];

      entries.forEach(entry => {
        if (entry.intersectionRatio >= 0.5) {
          appearing.push(entry.target);
        } else {
          disappearing.push(entry.target);
        }
      });

      appearing.sort((a, b) => reverseOrder[a.dataset.pos] - reverseOrder[b.dataset.pos]);
      appearing.forEach((el, i) => {
        setTimeout(() => {
          el.classList.add("visible");
          applyInitialTransform(el);
        }, i * 300);
      });

      disappearing.sort((a, b) => order[a.dataset.pos] - order[b.dataset.pos]);
      disappearing.forEach((el, i) => {
        setTimeout(() => {
          el.classList.remove("visible");
          setInitialTransform(el);
        }, i * 300);
      });
    }, observerOptions);

    elements.forEach(el => observer.observe(el));
  });
</script>

<!-- ✅ observe-fade-right 전용 스크롤 애니메이션 -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const el = entry.target;
        if (entry.intersectionRatio >= 0.5) {
          el.classList.add("visible");
        } else {
          el.classList.remove("visible");
        }
      });
    }, {
      threshold: 0.5
    });

    document.querySelectorAll(".observe-fade-right").forEach(el => {
      observer.observe(el);
    });
  });
</script>

<!-- ✅ 기타 텍스트/로딩 장식 관련 -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const appearTextEl = document.getElementById("appear-text");
    const baseText = "please wait...";
    let index = 0;

    setInterval(() => {
      index = (index + 1) % (baseText.length + 1);
      if (appearTextEl) {
        appearTextEl.textContent = baseText.slice(0, index);
      }
    }, 150);

    const circleTextEl = document.getElementById("circle-text");
    const repeatText = " DEAR MY SUMMER".repeat(3);
    const radius = 80;

    if (circleTextEl) {
      circleTextEl.innerHTML = [...repeatText].map((char, i) => {
        const angle = i * 8;
        return `<span style="
          position: absolute;
          left: 50%;
          top: 50%;
          transform: rotate(${angle}deg) translate(${radius}px) rotate(90deg);
          transform-origin: center;
          display: inline-block;
        ">${char}</span>`;
      }).join('');
    }
  });
</script>


</body>
</html>


